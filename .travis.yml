sudo: required

language: generic

git:
  depth: false

dist:
  xenial

cache:
  directories:
    - $HOME/.m2

services:
  - docker

before_install:
  - docker pull moussavdb/build-java

env:
  global:
    - secure: 0b9vqg4XgRgbfjgElon8da1hR3F8E42M+YKt2W2OCTaVZbrab0WZNmohdK7z+j2DfxZK+vb7PGp7DDc/0sP5TqJE5QWzb527o3LiDvyR3I6G77349njUXq7TFWCHbvzdPIajRMO2Wef3pHoz0ytmjWaEBKUFh87QdtIucBvP8hWyAHWo8ICfvD8Jn27iKJWRUu9emmeQ45wSvOp9mveVJkXEaLd3V15qC5Bl/ouzhafrwguFp0jwfbnFwnuDds9yUfbLs9dvNBFvDjr3XijNWE2kUVAesApJaLNv30hbfH4OeYte7WkfQ/s1gDhZeHggQxskHNNgGajKtRnWPfninMxZ+lJQEsYAHOdLDXyQVkcX/SCvHz1sTNu1g2MSienRQA9zsH7hf3hBhqRyU0dgxdjL6wvLEfM0ectr/I6wlw/jPCgCSKzbtrcMI2K2LrkdA9MBAxWBWvbxfhwuS6Ij2U9Jy66VpxhSFfEUwdcNM3DD9c/qO3SwlleABMLi6mNsECdh05zy+sEwotSrarDww1og+KDyFrdXZb9AOm08EpolD801b6TeC8a829oAzxSF2rAZTq5iINKBDLgPOQDcdtIUCk8zpCGjVbouZwBwQNYHCTZxQTTmtEUOln8nXhPsgS8gze0Rt+rkgzhRN2qpazF2X3xDYC7nZD5/2ZwQ9r8=
    - secure: cRv4Zp1xGYI4VUCrCU2eZJuFKA7uQdDNfb/mdoyCYrHnFsxFk7awEJnlOhGPcXmTLh4w+Fo977C3682t2oJWi1mPeqGCGyAZOPmB0fqqiZUUY2LBlzDNzU30Keoik6enqEZOPDQfgXFbhHJQzrNp3l3xqbcSaDOTO4aB5oxWvsYWtruXnznEJAmX+AKUy8TMQ8aUhewC/MexpBDxoxmrJfCmHfv3ZiXHUsU7gPW9bMU9ervfwtcbXbWDLrjg3PAvgJYKZo8l0nATFWjhvlXV7jxsVEE7PcBhY2ATwvlClAAuaUcl631C8jb8pRMiy5eIpPyDUVRv1swh3FHCd+Cs7gpJL0DWGWqpI0/vKCq/UPPG4oixGe4AQWVzofTgN4Yup6uRP1yvfX9b8ILK9Sa5wQVr+/DN/lwHAZU0sWi4vR6XDXvT77UBACEQIgqrHNiRneN5fYhpdOEB8QuPdfxftxW3XAqxKBI2snNtnhDBIRPTTzTzksNggboqM972KURswf+id//X6Uu3zSEGyE6lWtLSADCV60H0eaPB63eAWN3rqZer/di5Xj+895XtQQVzJ8hR3B5zsZFlMkGvjAQuMLMi2wJ6PJBgdRbQHDlveN5X+LaFVu/wtWIv1mpleKQ7mxNFjoILU9X/TQtXbCGGzh89CmV4dSp3Pc/rFDaROkY=
    - secure: a4xmgp+qY3oUtKeu2wHgXSvESnRcQw5BDbIs/PVypqHDYtRnAot2nKpkp+SG+G7QnawYp4tt5CB4ygYCpM/FVjAi0zWwHI7S3PrejG1zRsyIByHy/WafYbMBc47c7330Y2IIIjva8FaE3WAWB34gi6AoEzPkwDsC79l3wPlq3pseoJH3ezW3WF9P3M3dCYKfegxD1aWBWpJDHE20HbA5jWwto7/HaCIo5R9U9+nJ1LUuKp0U4owIH3AHmmg51bGvlDjM2j1nlhKbFaMiFMApsBN6C1ll/fMfPlzcujSjWRbN3YpYwXA/VsR07FetqhTxJed658kfDPPZQ/vBTHtcZpQoLcATga7B7zIUAlOY/uCPDBGdOQ8dICByKRB5e+J8EHz7OGjYDYWQhVeM9myxuw2GkOqEHEQt4Y+Wcxf+qkFbcXSaQLn20pj7xFBrywwfwMER1QZciJMwffaH67JaHIILPvXvj2xxbteNeF2/99f4ZvYY2qMxLtseldBg8JXMaUgN4AIzSLifpwpBQPD3Ui6vHENsX7CQtOEBUJv61MmAutIdjx9h0+BKd4IqAO2ClCSYQO6OtH3vmT8Gz5K/WbNRfa3J0wmF7GdIllVZuKjwjTYDmWoBDICf7skY/im9uAWi4GbIzKAxhrvayLFdVDGwTgzi9LpP2opqX1ES+KI=
    - secure: LUmXvv2jS9GFIvMWuZz4b2+kxEKM7ra3sT4pr91N151PPIJ/CqAku3Dvjp6tFdKIzECONRFQwJPWfbfdEOEnscd/96LkbkKLiM2klmy6++jvCWgXRIKI+C2af4C+os4T5EgMMpI6AHRcyAbq69QahnSqnKG++CPUPu/PExXpXl4nIKK1W2wzLDk3RQejClnlavB6iXsZJQZx3cSe6gV6N8MLzcLJYpezwys+w0JsaC8E6DTYz9/zkoO1lIOKFemsJqh8UqeJ2oMDLswN/51BUXExhVM89PUVKRz+QkP3IjU4kBqyAvmovONA/UVILakQa+N1UW2IdKa27ByXzH70SBo5Xkgr24xaUZywjA1TnZ4Y2UArkeAVMEJOVIxgJnX6hL/2wYObYKbrKT4AuiZX0FQ/iY41HN+4Jw1/0Uwbqf90h0qljbPv3P+7BrHnKz1Df0axWn4sooyppy+1rKqzr3o26p9XPhZ+GVQtv57m89zX05yp9LqvMYJpcur59hST8xxA26p5AY8LjJAKX/tVJNpnkL7N2xmEtl9+fOTmxrtC/sw6HukC7IP75Qk6OgvQ/J0TV1JlI4DpGVLArgBDSweN1Ao6Ev3+CFI536CmgZI+4OZvR/UCSbW9NpmL8uGtdemzB9hwNqg45COlEfklJIH3Jkq2UXFlrnbJBCRnziI=
    - secure: eFsRxipmm51tkuGTSzKpapysWWOvf7FxDMJaVRrxSTcX8j6K9DOmla5VXYTZ2T7DuOmnkmFeY4W3XH0V6IlMde6ghf8rPS5KGZZ7hNeuULhr07gsJXv6MldKP71Qr3RNZ1X+h0Cx9Ztonujv5c1oHaCfUyAPuVCRVntGtv6IFBYsIti/xj7lt3e0Ve0WXF0uEq5sI8V5654gqw2s57hDfRYGoJyR6v+60jAXU7WxdWa1r+EQqbFO90mawpdioe3MBYBQk+3SwYrbO51ptH1RdSgOmAvN1G08f8Xc/T8eCjfIbrS/fKJBfyqDk3gDR//4sLOuWRqlblsUIb3Rei1+SrvPQCNthpOwp6VBY6AucQlLFS5/6X/ZHTgGMvmG/XJFMNccNKG+IcCuA2P7JdPfG8haEiEGyWGicwPvLvin4gsF8c6LxZ822SZb8qN/cmtHx45i4zwg0K5rJCv438Mv4h6f/KGEgnMfe/QQfihjGTJr2RCutYNso4QLECw+u9q8fKqPGyc3J737ie0YXWAWg/7e9aJ7W60o3sPvUI7gUMNKs4bsiRwZvvXrB7SI3cruYk+NhrS0SdBS7Ok++wFX7JWGQrZuOVD/JU3zivlgsxYU15ebY9jzhwAQTBFGSMl1jqQTDNfpzMdmwmzTdlWWzwx0QH9GKn7zzKZRpAUbL4k=
    - secure: kwbSuGbx8gDS46fTOjqWsK5BSrGyZEv0/iE9UnYnnvvYwWcBwqjF0TLBLiv1oUJTLUbjBWPEvo1rSVnRhTjLUuVAzNBrzdyuLYmpK8y8cyHRD+8SDlXSN8utOL0FbdyU3n/1+4+FXrVNIV6DMewO7LWtJGuUeKimg3TUVYE1K4BVaan577dDGob6b1FRYhAGCwGiJldAgsFUFW/3gAwglNFuxkAAEG2sEDA/4TckUnRW0n5RWevc1eLvP9RnOSD2f9DGpbHsMXvJnJgYdIbN8UZQ8pwmKz3g2Sj7Ly40sabcrYmTyDV04N18clwM31JZD8ztIqMvnkF40xlV/0aJtZVqqJb8vHdcE7rhrmLX5KwhuaidhGqzlEUH3EqmJ4lUrks9CoDBdqZYl0D/3kwsuHGkXpMOYQLrpVqKUh0IHq1svqDueD2NVCuoRNMcQ++wWwNFobICiUecNcBv7B7ZIT00iiLphgpZNjybIVB0UZV0YyfhgBD3gGk3BdZkGBT21S8fxaKzuLcduTQJgnXjNvn+B55XaQi2tq6lDTLu75i/QcVJb/naSixEX3s0eRrNx7nnsrcyZ68gKMX/Wy0Ef2CcxOWRua4lfs/h2blP92jnOPge+pcHHvJxE5SNqgqXTDEdtSKDvallPoZe+RsjTsqoSDb6mnStgf8dxqJtWw8=
    - secure: fdfBBHCCwluJfKMv5AyLp0Wm5jnvlDpZDEJeu8wae+LeeCvzBfFD4GUSyoIa6yKvnr5q0X6Rzc0lrt3Oip14r5m3RYhVJLzkrrBJ2xQlsVEzCvagxJ99Ngq7G7+hk0gCLRr1IQGmdkRXmN/3h97nmOb/hERZ3u0gFX9yRRBPd2E4eQu6HpGocFuv11icGlBffL2PM5RUpWHIdF8kHNwETPZlZWEmvf/LEGTlmsIIBRrDHcLj33K9/2/n5pwttdz/DOMsNnBIN1z+Oz7AOiLsuKl0a9+S8pEdVOdQo6vGGnjbgdrJu2iywqzOy26YqlvcWUyL6dLUKzvWkzTb/Jcv99VY3jmtHA3yWav/7j4YhZkdgG6AGsUtpdy+mpu9/VVOwESmhCzuVNrJaRjo29hrOrJk4jVVZFnDRh+B6mAT8jcJBZor7aqREHTWnNZQyuCHOrImlyDY80N01YTXC8UftWfcqm5FspDPh/mT+4SE0hmfvnfc/S8n6TBmHE6UMJhN41qshC/OMB6PliAkabwmSimyu/3CUYHQBJ4vmgFW4UQYXoRHWQseOVzZqLXyD8d2W6jrxcqWPD3SPkN1CM1tb0xQzflw3GLtX/DTPru3T3+mFebSDm0BqDP34AG/kf2uycHUMQ97Z3YKIhxT+J+Zz+3rHcVxPnrBdsVCbKzjx4Q=
    - secure: Jk3NKNpclpygEXueJ4q851GFCyFxWNTbVYOtFPSXeo0dmaXZFxOI5b3qmKDnKRRuE/sMX0eFc6pV+V6iKfHiuCmH3s817hVmMGdAR1CYt4e0PPd3IjWyhAJqWFL3FB/g3W0+xdLmHXkOeVZEQuSDiFN1HeFHKlfCgwXDEWfcL0jJPfAzTWKI3SjvDPkTqlQlgX1mLgK5/a+KAo7WdeLsq6DhcId24uDRltYvu6GBnIfx9/VEcl1sw6pXxZHdu0MigKc4fahyjc+pi6E3xZ2tAPNDr7wRL01SkofReurJSsJTfCqWtNx1XoriuYpTR3CTQpmAsu9rVFMomdXCfZvYFwUa3xjmSpvtQ5RUVVaeNBFwsD3+OQk724doTkT0kKqEiK5q7lAjUcXa7N4UuSkpgWtLH5RVvdoK+Wrgy8cyJRMUegtlJIWqiOsVLjnhgBoEHk9Pw9XuCRoMjI2HIwzv+To+36flXriA0IDYNbEtHk2YP/Mp9mM8CGwjeUwxgik//bIRaL6g72xQGYp9lZTaz9Cae2TVGn0jQShq5JEpCmBiGJAoCLL/5W7+PeaI+zLVxMy0HKPVjF1oU9fGPybRdjlIiruh3h4BTs0xyzEYUMg+oLanwi3D3GldYZrZmJ0tL9GjUOnrDoKRzncUirO1mZPDZb7zI8NXcBJgwOdKkBg=
    - secure: Os5rtZglOnrZtyqjHJ3q8IbYNt8RT+rubuxefJu14nXzVGiaLVGO89glSS+EGr5fE9RDVwBU5tzOxY4TZPVrhGQCONVC5Y51AuDKD/E1u+o9aaOQ3HQOsXjPLlzy7q+uiEJnCsGxYMEYVYyOVZUnxTgIPRLuJfGo/S6YvFUX/ZI0XptNllQp9uWDVr27o18Ob3HEnJTpQH1LkIrwekeufFHg/XPXISE7lIP5THLmPk7LzypQwt41fDIhcVrIpVBAEMYyOtsinOcx/N1I8LBxrNLqCddKp+H8+8VHIs2QDB4x6FS7Ur3/KXRKxHG07ZNvElaWt5yyXfVLE/53UhSLR54img+jsJa0XV+53SRaRiDaS5/7J+FtwIZmKVzPqvcx+fCqXIdpyp6dYzRhjSpaojfuhH4gvSh5h7PzP4Hy0ObsPhiexhuuLFN3sDA+SMcLfGeCCyx5CuVZXxRzJ38pXMwx3dETbAYdylqs5IkklmRzpNjW0MQ20Xe0Y7EAoA8Z98S0yd61ihmD5QBQ6fnEmyGpnFU0+uVbf2E0DhfLE0t7OuIONTqWcv3GzmMqU3H7oweszNAQsvgJnrgILQgqXgs/E+1ZL+OR0w9zO6lPS8zgKORkZFNDq0YUCLXFG+Y8eXMXLwtFfzL/1tMByDiR3UXqmBd9kWDu19MOD7hqBkU=


script:
  - chmod 777 deploy-maven-central.sh
  - docker run -v $PWD:/src -v $HOME/.m2:/root/.m2 -e MAVEN_OPTS=-Dencoding="UTF-8" -e REPO_USER=$REPO_USER -e REPO_PASSWORD=$REPO_PASSWORD -e BRANCH=$TRAVIS_BRANCH -e OPENSSL_PWD=$OPENSSL_PWD -e GPG_PWD=$GPG_PWD -e GPG_KEY=$GPG_KEY -e OSSRH_USER_TOKEN=$OSSRH_USER_TOKEN -e OSSRH_PWD_TOKEN=$OSSRH_PWD_TOKEN -e SONAR=$SONAR -e SONAR_ORGANIZATION=$SONAR_ORGANIZATION -e VAULT_TOKEN=$VAULT_TOKEN -e BRANCH=$TRAVIS_BRANCH moussavdb/build-java ./deploy-maven-central.sh

